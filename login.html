<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Login ‚Äî BTech Vault</title>
  <link rel="stylesheet" href="style.css"/>
  <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-auth-compat.js"></script>
</head>
<body>

<div class="login-page">
  <div class="login-card">
    <span class="logo-big">BTech<span style="color:#94a3b8; font-weight:400;">Vault</span></span>
    <p class="tagline">// supply ki. backlogs ki. success ki.</p>

    <div style="background:#1e293b; border:1px solid #334155; border-radius:10px; padding:1.25rem; margin-bottom:1.5rem;">
      <p style="font-size:0.875rem; color:#f8fafc; margin-bottom:0.75rem;">üéì <strong>B.Tech PDFs ikkada dorukuthayi</strong></p>
      <div style="font-size:0.8rem; color:#94a3b8;">
        ‚úÖ Login ayyi PDFs upload che‡∞Ø‡±ç‡∞Ø‡∞Ç‡∞°‡∞ø
      </div>
    </div>

    <button class="btn-google" onclick="handleGoogleLogin()" id="loginBtn" style="width:100%; padding:12px; cursor:pointer; background:white; color:black; border-radius:8px; border:none; font-weight:bold; display:flex; align-items:center; justify-content:center; gap:10px;">
      <img src="https://www.google.com/favicon.ico" alt="Google" style="width:18px;"/>
      Continue with Google
    </button>

    <div id="errorMsg" style="display:none; background:rgba(248,113,113,0.1); border:1px solid #f87171; border-radius:8px; padding:10px; margin-top:15px; color:#f87171; font-size:0.85rem;"></div>

    <div style="margin:20px 0; color:#475569; font-size:0.8rem;">‡∞≤‡±á‡∞¶‡∞æ</div>

    <a href="index.html" style="text-decoration:none; color:#94a3b8; border:1px solid #334155; padding:10px; border-radius:8px; display:block; text-align:center;">
      Login ‡∞≤‡±á‡∞ï‡±Å‡∞Ç‡∞°‡∞æ ‡∞ö‡±Ç‡∞°‡∞Ç‡∞°‡∞ø
    </a>
  </div>
</div>

<script>
// IKKADA NEE FIREBASE DETAILS PETTU
const firebaseConfig = {
  apiKey: "YOUR_API_KEY",
  authDomain: "YOUR_AUTH_DOMAIN",
  projectId: "YOUR_PROJECT_ID",
  storageBucket: "YOUR_STORAGE_BUCKET",
  messagingSenderId: "YOUR_MESSAGING_SENDER_ID",
  appId: "YOUR_APP_ID"
};

// Initialize Firebase
// Import the functions you need from the SDKs you need
import { initializeApp } from "firebase/app";
import { getAnalytics } from "firebase/analytics";
// TODO: Add SDKs for Firebase products that you want to use
// https://firebase.google.com/docs/web/setup#available-libraries

// Your web app's Firebase configuration
// For Firebase JS SDK v7.20.0 and later, measurementId is optional
const firebaseConfig = {
  apiKey: "AIzaSyBi4Udgz97OJo1sei1pAmCJ9oiBT4BSGMw",
  authDomain: "btech-vault.firebaseapp.com",
  projectId: "btech-vault",
  storageBucket: "btech-vault.firebasestorage.app",
  messagingSenderId: "8508597620",
  appId: "1:8508597620:web:f36418f8c702e8a21c3821",
  measurementId: "G-X0TY8S1TPB"
};

// Initialize Firebase
const app = initializeApp(firebaseConfig);
const analytics = getAnalytics(app);
const auth = firebase.auth();

async function handleGoogleLogin() {
  const btn = document.getElementById('loginBtn');
  const errDiv = document.getElementById('errorMsg');

  btn.disabled = true;
  btn.innerText = "Loading...";
  errDiv.style.display = 'none';

  try {
    const provider = new firebase.auth.GoogleAuthProvider();
    await auth.signInWithPopup(provider);
    window.location.href = 'index.html'; // Login ayyaka ikkadiki velthundhi
  } catch (err) {
    errDiv.style.display = 'block';
    errDiv.textContent = 'Error: ' + err.message;
    btn.disabled = false;
    btn.innerText = "Continue with Google";
  }
}
</script>
</body>
</html>
